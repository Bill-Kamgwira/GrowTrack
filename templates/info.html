<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/static/info.css">
    <link rel="stylesheet" href="/static/base.css">
    <title>Crop Details</title>
    <link rel="shortcut icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/static/navigation.css">
</head>
<body>
    <h1>Crop Details</h1>
    <nav>
      <ul>
        <li><h3><a href="/dashboard">Dashboard</a></h3></li>
        <li><h3><a href="/profile">Profile</a></h3></li>
        <li><h3><a href="/add_crop">Add Crop</a></h3></li>
        <li><h3><a href="/view_crops">View Crops</a></h3></li>
        <li><h3><a href="/logout">Logout</a></h3></li>
        </ul>
    </nav>
    <ul class="tabs">
        <li><a href="#crop-details" onclick="showTab('crop-details')">Crop Details</a></li>
        <li><a href="#crop-management" onclick="showTab('crop-management')">Crop Management</a></li>
        <li><a href="#yield-data" onclick="showTab('yield-data')">Yield Data</a></li>
        <li><a href="#financial-data" onclick="showTab('financial-data')">Financial Data</a></li>
    </ul>
    <div class="tab-content">
      <div id="crop-details" class="tab-pane">
        <ul class="crop-details-list">
          <li>
            <strong>Crop Name:</strong>
            <span>{{ crop.name }}</span>
          </li>
          <li>
            <strong>Planting Date:</strong>
            <span>{{ crop.planting_date }}</span>
          </li>
          <li>
            <strong>Expected Harvest Date:</strong>
            <span>{{ crop.expected_harvest_date }}</span>
          </li>
          <li>
            <strong>Acreage:</strong>
            <span>{{ crop.acreage }}</span>
          </li>
          <li>
            <strong>Crop Rotation History:</strong>
            <span>{{ crop.crop_rotation_history }}</span>
          </li>
          </ul>
      </div>

        <div id="crop-management" class="tab-pane">
            <h2>Crop Management Records</h2>
            {% if crop_management_records %}
              <table>
                <thead>
                  <tr>
                    <th>Management Type</th>
                    <th>Details</th>
                    <th>Date</th>
                  </tr>
                </thead>
                <tbody>
                  {% for management_record in crop_management_records %}
                    <tr>
                      <td>{{ management_record.fertilizer_type or management_record.irrigation_type or management_record.control_type or management_record.weeding_method or management_record.tasks_completed }}</td>
                      <td>{{ management_record.fertilizer_amount or management_record.irrigation_amount or management_record.control_amount or management_record.hours_accrued }}</td>
                      <td>{{ management_record.fertilizer_date or management_record.irrigation_date or management_record.control_date or management_record.weeding_date or management_record.labour_date }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            {% else %}
              <p>No crop management data found.</p>
            {% endif %}
            <br>
            <br>
            <br>
            <a href="/crop/{{ crop.id }}/add-management">Add Crop Management Data</a>
          </div>
          
          
          <div id="yield-data" class="tab-pane">
            <h2>Yield & Production Records</h2>
            {% if yield_production_records %}
              <table>
                <thead>
                  <tr>
                    <th>Yield-Quantity</th>
                    <th>Yield-Quality</th>
                    <th>Harvest Date</th>
                    <th>Post-Harvest Losses</th>
                    <th>Factors affecting Yield</th>
                  </tr>
                </thead>
                <tbody>
                  {% for yield_record in yield_production_records %}
                    <tr>
                      <td>{{ yield_record.quantity }}</td>  <td>{{ yield_record.quality }}</td>
                      <td>{{ yield_record.harvest_date }}</td>
                      <td>{{ yield_record.post_harvest_loss }}</td>
                      <td>{{ yield_record.factors_affecting_yield }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            {% else %}
              <p>No Yield & Production data found.</p>
            {% endif %}
            <br>
            <br>
            <br>
            <a href="/crop/{{ crop.id }}/add-yield_production">Add Yield & Production Data</a>
          </div>
          
        <div id="financial-data" class="tab-pane">
          <h2>Finance Records</h2>
            {% if financial_data_records %}
              <table>
                <thead>
                  <tr>
                    <th>Seed Cost</th>
                    <th>Fertilizer Cost</th>
                    <th>Labor Cost</th>
                    <th>Equipment Cost</th>
                    <th>Pesticide Cost</th>
                    <th>Revenue</th>
                  </tr>
                </thead>
                <tbody>
                  {% for finance_record in financial_data_records %}
                    <tr>
                      <td>{{ finance_record.seed_cost }}</td> 
                      <td>{{ finance_record.fertilizer_cost }}</td>
                      <td>{{ finance_record.labor_cost }}</td>
                      <td>{{ finance_record.equipment_cost }}</td>
                      <td>{{ finance_record.pesticide_cost }}</td>
                      <td>{{ finance_record.revenue }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            {% else %}
              <p>No Financial Data found.</p>
            {% endif %}
            <br>
            <br>
            <br>
          <a href="/crop/{{ crop.id }}/add-financial">Add Financial Data</a>
        </div>

    </div>
    <script src="/static/tabs.js"></script>
</body>
</html>
